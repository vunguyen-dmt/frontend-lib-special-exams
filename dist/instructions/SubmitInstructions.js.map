{"version":3,"file":"SubmitInstructions.js","names":["SubmitExamInstructions","state","useContext","ExamStateContext","exam","continueExam","activeAttempt","timeRemaining","time_remaining_seconds","examType","type","useState","canContinue","setCanContinue","hideContinueButton","useEffect","Emitter","once","TIMER_REACHED_NULL","off","ExamType","TIMED"],"sources":["../../src/instructions/SubmitInstructions.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Button, Container } from '@edx/paragon';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport Emitter from '../data/emitter';\nimport { ExamType } from '../constants';\nimport { SubmitProctoredExamInstructions } from './proctored_exam';\nimport { SubmitTimedExamInstructions } from './timed_exam';\nimport Footer from './proctored_exam/Footer';\nimport ExamStateContext from '../context';\nimport { TIMER_REACHED_NULL } from '../timer/events';\n\nconst SubmitExamInstructions = () => {\n  const state = useContext(ExamStateContext);\n  const { exam, continueExam, activeAttempt } = state;\n  const { time_remaining_seconds: timeRemaining } = activeAttempt;\n  const { type: examType } = exam || {};\n  const [canContinue, setCanContinue] = useState(timeRemaining > 0);\n\n  const hideContinueButton = () => setCanContinue(false);\n\n  useEffect(() => {\n    Emitter.once(TIMER_REACHED_NULL, hideContinueButton);\n\n    return () => {\n      Emitter.off(TIMER_REACHED_NULL, hideContinueButton);\n    };\n  }, []);\n\n  return (\n    <div>\n      <Container className=\"border py-5 mb-4\">\n        {examType === ExamType.TIMED\n          ? <SubmitTimedExamInstructions />\n          : <SubmitProctoredExamInstructions />}\n        {canContinue && (\n          <Button variant=\"outline-primary\" className=\"mr-3 mb-3\" onClick={continueExam} data-testid=\"continue-exam-button\">\n            <FormattedMessage\n              id=\"exam.SubmitExamInstructions.continueButton\"\n              defaultMessage=\"No, I'd like to continue working\"\n            />\n          </Button>\n        )}\n      </Container>\n      {examType !== ExamType.TIMED && <Footer />}\n    </div>\n  );\n};\n\nexport default SubmitExamInstructions;\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAErD,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAsB,GAAS;EACnC,IAAMC,KAAK,GAAG,IAAAC,iBAAU,EAACC,mBAAgB,CAAC;EAC1C,IAAQC,IAAI,GAAkCH,KAAK,CAA3CG,IAAI;IAAEC,YAAY,GAAoBJ,KAAK,CAArCI,YAAY;IAAEC,aAAa,GAAKL,KAAK,CAAvBK,aAAa;EACzC,IAAgCC,aAAa,GAAKD,aAAa,CAAvDE,sBAAsB;EAC9B,WAA2BJ,IAAI,IAAI,CAAC,CAAC;IAAvBK,QAAQ,QAAdC,IAAI;EACZ,gBAAsC,IAAAC,eAAQ,EAACJ,aAAa,GAAG,CAAC,CAAC;IAAA;IAA1DK,WAAW;IAAEC,cAAc;EAElC,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB;IAAA,OAASD,cAAc,CAAC,KAAK,CAAC;EAAA;EAEtD,IAAAE,gBAAS,EAAC,YAAM;IACdC,mBAAO,CAACC,IAAI,CAACC,0BAAkB,EAAEJ,kBAAkB,CAAC;IAEpD,OAAO,YAAM;MACXE,mBAAO,CAACG,GAAG,CAACD,0BAAkB,EAAEJ,kBAAkB,CAAC;IACrD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE,0DACE,gCAAC,kBAAS;IAAC,SAAS,EAAC;EAAkB,GACpCL,QAAQ,KAAKW,mBAAQ,CAACC,KAAK,gBACxB,gCAAC,uCAA2B,OAAG,gBAC/B,gCAAC,+CAA+B,OAAG,EACtCT,WAAW,iBACV,gCAAC,eAAM;IAAC,OAAO,EAAC,iBAAiB;IAAC,SAAS,EAAC,WAAW;IAAC,OAAO,EAAEP,YAAa;IAAC,eAAY;EAAsB,gBAC/G,gCAAC,sBAAgB;IACf,EAAE,EAAC,4CAA4C;IAC/C,cAAc,EAAC;EAAkC,EACjD,CAEL,CACS,EACXI,QAAQ,KAAKW,mBAAQ,CAACC,KAAK,iBAAI,gCAAC,kBAAM,OAAG,CACtC;AAEV,CAAC;AAAC,eAEarB,sBAAsB;AAAA"}