{"version":3,"file":"ExamAPIError.js","names":["ExamAPIError","intl","state","useContext","ExamStateContext","getConfig","SITE_NAME","SUPPORT_URL","apiErrorMsg","shouldShowApiErrorMsg","includes","Info","formatMessage","messages","apiErrorDefault","supportLink","supportTextWithoutLink","propTypes","intlShape","isRequired","injectIntl"],"sources":["../../src/exam/ExamAPIError.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { getConfig } from '@edx/frontend-platform';\nimport { Alert, Hyperlink, Icon } from '@edx/paragon';\nimport { Info } from '@edx/paragon/icons';\nimport { injectIntl, intlShape, FormattedMessage } from '@edx/frontend-platform/i18n';\nimport ExamStateContext from '../context';\nimport messages from './messages';\n\nfunction ExamAPIError({ intl }) {\n  const state = useContext(ExamStateContext);\n  const { SITE_NAME, SUPPORT_URL } = getConfig();\n  const { apiErrorMsg } = state;\n  const shouldShowApiErrorMsg = !!apiErrorMsg && !apiErrorMsg.includes('<');\n\n  return (\n    <Alert variant=\"danger\" data-testid=\"exam-api-error-component\">\n      <Icon src={Info} className=\"alert-icon\" />\n      <Alert.Heading data-testid=\"error-details\">\n        {shouldShowApiErrorMsg ? apiErrorMsg : intl.formatMessage(messages.apiErrorDefault)}\n      </Alert.Heading>\n      <p>\n        {SITE_NAME && SUPPORT_URL ? (\n          <FormattedMessage\n            id=\"exam.apiError.supportText.withLink\"\n            defaultMessage={\n              'If the issue persists, please reach out to {supportLink} for assistance, '\n              + 'and return to the exam once you receive further instructions.'\n            }\n            values={{\n              supportLink: (\n                <Hyperlink\n                  data-testid=\"support-link\"\n                  destination={SUPPORT_URL}\n                  target=\"_blank\"\n                >\n                  {SITE_NAME} Support\n                </Hyperlink>\n              ),\n            }}\n          />\n        ) : intl.formatMessage(messages.supportTextWithoutLink)}\n      </p>\n    </Alert>\n  );\n}\n\nExamAPIError.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(ExamAPIError);\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAkC;AAAA;AAAA;AAElC,SAASA,YAAY,OAAW;EAAA,IAARC,IAAI,QAAJA,IAAI;EAC1B,IAAMC,KAAK,GAAG,IAAAC,iBAAU,EAACC,mBAAgB,CAAC;EAC1C,iBAAmC,IAAAC,2BAAS,GAAE;IAAtCC,SAAS,cAATA,SAAS;IAAEC,WAAW,cAAXA,WAAW;EAC9B,IAAQC,WAAW,GAAKN,KAAK,CAArBM,WAAW;EACnB,IAAMC,qBAAqB,GAAG,CAAC,CAACD,WAAW,IAAI,CAACA,WAAW,CAACE,QAAQ,CAAC,GAAG,CAAC;EAEzE,oBACE,gCAAC,cAAK;IAAC,OAAO,EAAC,QAAQ;IAAC,eAAY;EAA0B,gBAC5D,gCAAC,aAAI;IAAC,GAAG,EAAEC,WAAK;IAAC,SAAS,EAAC;EAAY,EAAG,eAC1C,gCAAC,cAAK,CAAC,OAAO;IAAC,eAAY;EAAe,GACvCF,qBAAqB,GAAGD,WAAW,GAAGP,IAAI,CAACW,aAAa,CAACC,oBAAQ,CAACC,eAAe,CAAC,CACrE,eAChB,2CACGR,SAAS,IAAIC,WAAW,gBACvB,gCAAC,sBAAgB;IACf,EAAE,EAAC,oCAAoC;IACvC,cAAc,EACZ,2EAA2E,GACzE,+DACH;IACD,MAAM,EAAE;MACNQ,WAAW,eACT,gCAAC,kBAAS;QACR,eAAY,cAAc;QAC1B,WAAW,EAAER,WAAY;QACzB,MAAM,EAAC;MAAQ,GAEdD,SAAS;IAGhB;EAAE,EACF,GACAL,IAAI,CAACW,aAAa,CAACC,oBAAQ,CAACG,sBAAsB,CAAC,CACrD,CACE;AAEZ;AAEAhB,YAAY,CAACiB,SAAS,GAAG;EACvBhB,IAAI,EAAEiB,eAAS,CAACC;AAClB,CAAC;AAAC,eAEa,IAAAC,gBAAU,EAACpB,YAAY,CAAC;AAAA"}